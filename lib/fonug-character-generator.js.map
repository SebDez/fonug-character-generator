{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0351aa57402940eb3ee5","webpack:///./src/constants.js","webpack:///./src/index.js","webpack:///./package.json","webpack:///./src/services/characterGenerator.js","webpack:///./src/model/character.js","webpack:///./src/services/contentProvider.js","webpack:///./src/model/contentObject.js"],"names":["MAIN_GENERATOR_MODULE","GENERATOR_CATEGORIES","config","FonugCharacterGenerator","version","contentProvider","ContentProvider","generator","CharacterGenerator","getGeneratorContent","character","generateCharacter","Object","assign","toJSON","main","civilization","default","age","contents","Character","setMainValues","generateGenModuleValues","genModule","reduce","obj","category","getRandomContentForCategory","randomList","categoryContents","content","nb","weight","i","push","contentPicked","getRandomContentInArray","prepareContentPicked","array","randomIndex","Math","floor","random","length","setI18nFullKey","setI18nValue","getContentI18nValue","mainValues","setGeneratorModuleValues","values","valuesClone","keys","mod","moduleObject","modObj","ContentObject","i18nKey","contentClone","i18nFullKey","i18nValue","percentage","value"],"mappings":"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","file":"fonug-character-generator.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"fonug-character-generator\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fonug-character-generator\"] = factory();\n\telse\n\t\troot[\"fonug-character-generator\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0351aa57402940eb3ee5","export const MAIN_GENERATOR_MODULE = 'main'\r\n\r\nexport const GENERATOR_CATEGORIES = {\r\n  [MAIN_GENERATOR_MODULE]: ['age', 'civilization', 'charClass', 'alignment', 'punchline', 'fightSkills']\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.js","import * as config from './../package.json'\r\nimport CharacterGenerator from './services/characterGenerator'\r\nimport ContentProvider from './services/contentProvider'\r\n\r\n/**\r\n * The class defining the character generator\r\n * Instanciate it whith the contentProvider wanted, are use the default ones\r\n * The generate random generate characters that will use the given content providers\r\n * @export\r\n * @class FonugGenerator\r\n */\r\nexport default class FonugCharacterGenerator {\r\n  constructor () {\r\n    this.version = config.version\r\n    this.contentProvider = new ContentProvider()\r\n  }\r\n\r\n  /**\r\n   * Generate a new random Character\r\n   * @returns Object The character generated\r\n   * @memberof FonugGenerator\r\n   */\r\n  generateCharacter () {\r\n    const generator = new CharacterGenerator(this.getGeneratorContent())\r\n    const character = generator.generateCharacter()\r\n    return Object.assign({}, character.toJSON(), {\r\n      version: this.version\r\n    })\r\n  }\r\n\r\n  getGeneratorContent () {\r\n    return {\r\n      main: {\r\n        civilization: this.contentProvider.default(),\r\n        age: this.contentProvider.default()\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = {\"name\":\"fonug-character-generator\",\"version\":\"0.0.1\",\"description\":\"A character generator\",\"main\":\"lib/library.js\",\"scripts\":{\"build\":\"webpack --env dev && webpack --env build && npm run test\",\"dev\":\"webpack --progress --colors --watch --env dev\",\"test\":\"mocha --require babel-core/register --colors ./test/*.spec.js\",\"test:watch\":\"mocha --require babel-core/register --colors -w ./test/*.spec.js\"},\"repository\":{\"type\":\"git\",\"url\":\"https://github.com/SebDez/npc-generator\"},\"keywords\":[\"webpack\",\"es6\",\"starter\",\"library\",\"universal\",\"umd\",\"commonjs\"],\"author\":\"Sébastien Dez\",\"license\":\"MIT\",\"devDependencies\":{\"babel-cli\":\"^6.26.0\",\"babel-core\":\"^6.26.0\",\"babel-eslint\":\"^8.0.3\",\"babel-loader\":\"^7.1.2\",\"babel-plugin-add-module-exports\":\"^0.2.1\",\"babel-preset-env\":\"^1.6.1\",\"chai\":\"^4.1.2\",\"eslint\":\"^4.13.1\",\"eslint-config-standard\":\"^11.0.0\",\"eslint-loader\":\"^1.9.0\",\"eslint-plugin-import\":\"^2.11.0\",\"eslint-plugin-node\":\"^6.0.1\",\"eslint-plugin-promise\":\"^3.7.0\",\"eslint-plugin-standard\":\"^3.1.0\",\"mocha\":\"^4.0.1\",\"webpack\":\"^3.10.0\",\"yargs\":\"^10.0.3\"},\"dependencies\":{\"eslint-config-standard\":\"^11.0.0\",\"eslint-plugin-import\":\"^2.11.0\",\"eslint-plugin-node\":\"^6.0.1\",\"eslint-plugin-promise\":\"^3.7.0\",\"eslint-plugin-standard\":\"^3.1.0\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 2\n// module chunks = 0","import Character from './../model/character'\r\nimport { GENERATOR_CATEGORIES, MAIN_GENERATOR_MODULE } from './../constants'\r\n\r\nexport default class CharacterGenerator {\r\n  constructor (contents) {\r\n    this.contents = contents || {}\r\n  }\r\n\r\n  generateCharacter () {\r\n    const character = new Character()\r\n    character.setMainValues(this.generateGenModuleValues(MAIN_GENERATOR_MODULE))\r\n    return character\r\n  }\r\n\r\n  generateGenModuleValues (genModule) {\r\n    return GENERATOR_CATEGORIES[genModule].reduce((obj, category) => {\r\n      obj[category] = this.getRandomContentForCategory(genModule, category)\r\n      return obj\r\n    }, {})\r\n  }\r\n\r\n  getRandomContentForCategory (genModule, category) {\r\n    const randomList = []\r\n    const categoryContents = this.contents[genModule] && this.contents[genModule][category] ? this.contents[genModule][category] : []\r\n    for (const content of categoryContents) {\r\n      const nb = content.weight ? content.weight * 10 : 1\r\n      for (let i = 0; i < nb; i++) {\r\n        randomList.push(content)\r\n      }\r\n    }\r\n    const contentPicked = this.getRandomContentInArray(randomList)\r\n    return contentPicked ? this.prepareContentPicked(contentPicked, genModule, category) : void (0)\r\n  }\r\n\r\n  getRandomContentInArray (array) {\r\n    const randomIndex = Math.floor(Math.random() * array.length)\r\n    return array[randomIndex]\r\n  }\r\n\r\n  prepareContentPicked (contentPicked, genModule, category) {\r\n    contentPicked.setI18nFullKey(genModule, category)\r\n    contentPicked.setI18nValue(this.getContentI18nValue())\r\n    return contentPicked\r\n  }\r\n\r\n  getContentI18nValue () {\r\n    return 'traduction !'\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/characterGenerator.js","import { GENERATOR_CATEGORIES, MAIN_GENERATOR_MODULE } from './../constants'\r\n\r\n/**\r\n * A class representing a generated character\r\n * @export\r\n * @class Character\r\n */\r\nexport default class Character {\r\n  constructor () {\r\n    this[MAIN_GENERATOR_MODULE] = {}\r\n  }\r\n\r\n  setMainValues (mainValues) {\r\n    this.setGeneratorModuleValues(MAIN_GENERATOR_MODULE, mainValues)\r\n  }\r\n\r\n  setGeneratorModuleValues (genModule, values) {\r\n    const valuesClone = Object.assign({}, values)\r\n    this[genModule] = {}\r\n    for (const category of GENERATOR_CATEGORIES[genModule]) {\r\n      this[genModule][category] = valuesClone[category]\r\n    }\r\n  }\r\n\r\n  toJSON () {\r\n    return Object.keys(GENERATOR_CATEGORIES)\r\n      .reduce((obj, mod) => {\r\n        const moduleObject = GENERATOR_CATEGORIES[mod].reduce((modObj, category) => {\r\n          modObj[category] = this[mod] && this[mod][category] && this[mod][category].toJSON ? this[mod][category].toJSON() : void (0)\r\n          return obj\r\n        }, {})\r\n        obj[mod] = moduleObject\r\n        return obj\r\n      }, {})\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/character.js","import ContentObject from './../model/contentObject'\r\n\r\nexport default class ContentProvider {\r\n  default () {\r\n    return [\r\n      new ContentObject({i18nKey: 'HUMAN'}),\r\n      new ContentObject({i18nKey: 'DWARF'})\r\n    ]\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/contentProvider.js","/**\r\n * A class representing a content Object\r\n * i18nKey : The key that will be used to manage i18n values\r\n * i18nValue : The default i18n value\r\n * weight: float, determine the chances to be picked\r\n * percentage : values from 0 to 100\r\n * @export\r\n * @class ContentObject\r\n */\r\nexport default class ContentObject {\r\n  constructor (content) {\r\n    const contentClone = Object.assign({}, content)\r\n    this.i18nKey = contentClone.i18nKey\r\n    this.i18nFullKey = contentClone.i18nFullKey\r\n    this.i18nValue = contentClone.i18nValue\r\n    this.weight = contentClone.weight\r\n    this.percentage = contentClone.percentage\r\n  }\r\n\r\n  setI18nValue (value) {\r\n    this.i18nValue = value\r\n  }\r\n\r\n  setI18nFullKey (genModule, category) {\r\n    this.i18nFullKey = `${genModule}.${category}.${this.i18nKey}`\r\n  }\r\n\r\n  toJSON () {\r\n    return {\r\n      i18nKey: this.i18nKey,\r\n      i18nFullKey: this.i18nFullKey,\r\n      i18nValue: this.i18nValue\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/contentObject.js"],"sourceRoot":""}